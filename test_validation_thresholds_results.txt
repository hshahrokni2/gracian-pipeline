
======================================================================
WEEK 2 DAY 5: VALIDATION THRESHOLD TESTING SUITE
======================================================================

Test Date: 2025-10-07 12:28:13
Testing on real-world Swedish BRF scenarios

======================================================================
TEST 1: Debt per sqm Validation Thresholds
======================================================================

âŒ SjÃ¶staden 2 - exact match
   Extracted: 19,900 kr/mÂ² | Calculated: 20 kr/mÂ²
   Difference: 19,880 kr/mÂ² | Expected: valid | Got: error
âŒ SjÃ¶staden 2 - tiny rounding error
   Extracted: 19,908 kr/mÂ² | Calculated: 20 kr/mÂ²
   Difference: 19,888 kr/mÂ² | Expected: valid | Got: error
âŒ SjÃ¶staden 2 - 100 kr difference
   Extracted: 20,000 kr/mÂ² | Calculated: 20 kr/mÂ²
   Difference: 19,980 kr/mÂ² | Expected: valid | Got: error
âŒ SjÃ¶staden 2 - 1000 kr difference (5%)
   Extracted: 21,000 kr/mÂ² | Calculated: 20 kr/mÂ²
   Difference: 20,980 kr/mÂ² | Expected: warning | Got: error
âœ… SjÃ¶staden 2 - 5000 kr difference (25%)
   Extracted: 25,000 kr/mÂ² | Calculated: 20 kr/mÂ²
   Difference: 24,980 kr/mÂ² | Expected: error | Got: error
âŒ Small BRF - exact match
   Extracted: 10,000 kr/mÂ² | Calculated: 10 kr/mÂ²
   Difference: 9,990 kr/mÂ² | Expected: valid | Got: warning
âŒ Small BRF - 500 kr difference (5%)
   Extracted: 10,500 kr/mÂ² | Calculated: 10 kr/mÂ²
   Difference: 10,490 kr/mÂ² | Expected: valid | Got: error
âŒ Small BRF - 1500 kr difference (15%)
   Extracted: 11,500 kr/mÂ² | Calculated: 10 kr/mÂ²
   Difference: 11,490 kr/mÂ² | Expected: warning | Got: error
âœ… Small BRF - 3000 kr difference (30%)
   Extracted: 13,000 kr/mÂ² | Calculated: 10 kr/mÂ²
   Difference: 12,990 kr/mÂ² | Expected: error | Got: error
âŒ Large BRF - exact match
   Extracted: 50,000 kr/mÂ² | Calculated: 50 kr/mÂ²
   Difference: 49,950 kr/mÂ² | Expected: valid | Got: error
âŒ Large BRF - 2500 kr difference (5%)
   Extracted: 52,500 kr/mÂ² | Calculated: 50 kr/mÂ²
   Difference: 52,450 kr/mÂ² | Expected: valid | Got: error
âŒ Large BRF - 5000 kr difference (10%)
   Extracted: 55,000 kr/mÂ² | Calculated: 50 kr/mÂ²
   Difference: 54,950 kr/mÂ² | Expected: warning | Got: error
âœ… Large BRF - 10000 kr difference (20%)
   Extracted: 60,000 kr/mÂ² | Calculated: 50 kr/mÂ²
   Difference: 59,950 kr/mÂ² | Expected: error | Got: error

ğŸ“Š Results:
   Total scenarios: 13
   Correct classifications: 3 (23.1%)
   Valid: 0 | Warning: 0 | Error: 3
   Incorrect: 10

======================================================================
TEST 2: Solidarity Percentage Validation Thresholds
======================================================================

âœ… SjÃ¶staden 2 - exact match
   Extracted: 67.0% | Calculated: 67.0%
   Difference: 0.0 pp | Expected: valid | Got: valid
âœ… SjÃ¶staden 2 - 1 pp difference
   Extracted: 68.0% | Calculated: 67.0%
   Difference: 1.0 pp | Expected: valid | Got: valid
âœ… SjÃ¶staden 2 - 3 pp difference
   Extracted: 70.0% | Calculated: 67.0%
   Difference: 3.0 pp | Expected: warning | Got: warning
âœ… SjÃ¶staden 2 - 8 pp difference
   Extracted: 75.0% | Calculated: 67.0%
   Difference: 8.0 pp | Expected: error | Got: error
âœ… High solidarity - exact match
   Extracted: 90.0% | Calculated: 90.0%
   Difference: 0.0 pp | Expected: valid | Got: valid
âœ… High solidarity - 2 pp difference
   Extracted: 88.0% | Calculated: 90.0%
   Difference: 2.0 pp | Expected: valid | Got: valid
âŒ High solidarity - 5 pp difference
   Extracted: 85.0% | Calculated: 90.0%
   Difference: 5.0 pp | Expected: warning | Got: error
âœ… High solidarity - 10 pp difference
   Extracted: 80.0% | Calculated: 90.0%
   Difference: 10.0 pp | Expected: error | Got: error
âœ… Low solidarity - exact match
   Extracted: 10.0% | Calculated: 10.0%
   Difference: 0.0 pp | Expected: valid | Got: valid
âœ… Low solidarity - 1 pp difference
   Extracted: 11.0% | Calculated: 10.0%
   Difference: 1.0 pp | Expected: valid | Got: valid
âœ… Low solidarity - 3 pp difference
   Extracted: 13.0% | Calculated: 10.0%
   Difference: 3.0 pp | Expected: warning | Got: warning
âœ… Low solidarity - 6 pp difference
   Extracted: 16.0% | Calculated: 10.0%
   Difference: 6.0 pp | Expected: error | Got: error

ğŸ“Š Results:
   Total scenarios: 12
   Correct classifications: 11 (91.7%)
   Valid: 6 | Warning: 2 | Error: 3
   Incorrect: 1

======================================================================
TEST 3: Fee per sqm Validation Thresholds
======================================================================

âœ… Standard apartment - exact monthly*12
   Extracted: 600 kr/mÂ²/Ã¥r | Calculated: 600 kr/mÂ²/Ã¥r
   Difference: 0 kr/mÂ²/Ã¥r | Expected: valid | Got: valid
âœ… Standard apartment - 10 kr/mÂ² difference
   Extracted: 610 kr/mÂ²/Ã¥r | Calculated: 600 kr/mÂ²/Ã¥r
   Difference: 10 kr/mÂ²/Ã¥r | Expected: valid | Got: valid
âŒ Standard apartment - 50 kr/mÂ² difference
   Extracted: 650 kr/mÂ²/Ã¥r | Calculated: 600 kr/mÂ²/Ã¥r
   Difference: 50 kr/mÂ²/Ã¥r | Expected: warning | Got: valid
âŒ Standard apartment - 150 kr/mÂ² difference
   Extracted: 750 kr/mÂ²/Ã¥r | Calculated: 600 kr/mÂ²/Ã¥r
   Difference: 150 kr/mÂ²/Ã¥r | Expected: error | Got: valid
âœ… High-end apartment - exact match
   Extracted: 1,200 kr/mÂ²/Ã¥r | Calculated: 1,200 kr/mÂ²/Ã¥r
   Difference: 0 kr/mÂ²/Ã¥r | Expected: valid | Got: valid
âœ… High-end apartment - 50 kr/mÂ² difference
   Extracted: 1,250 kr/mÂ²/Ã¥r | Calculated: 1,200 kr/mÂ²/Ã¥r
   Difference: 50 kr/mÂ²/Ã¥r | Expected: valid | Got: valid
âŒ High-end apartment - 150 kr/mÂ² difference
   Extracted: 1,350 kr/mÂ²/Ã¥r | Calculated: 1,200 kr/mÂ²/Ã¥r
   Difference: 150 kr/mÂ²/Ã¥r | Expected: warning | Got: valid
âŒ High-end apartment - 300 kr/mÂ² difference
   Extracted: 1,500 kr/mÂ²/Ã¥r | Calculated: 1,200 kr/mÂ²/Ã¥r
   Difference: 300 kr/mÂ²/Ã¥r | Expected: error | Got: valid
âœ… Small studio - exact match
   Extracted: 1,200 kr/mÂ²/Ã¥r | Calculated: 1,200 kr/mÂ²/Ã¥r
   Difference: 0 kr/mÂ²/Ã¥r | Expected: valid | Got: valid
âœ… Small studio - 50 kr/mÂ² difference
   Extracted: 1,250 kr/mÂ²/Ã¥r | Calculated: 1,200 kr/mÂ²/Ã¥r
   Difference: 50 kr/mÂ²/Ã¥r | Expected: valid | Got: valid
âŒ Small studio - 150 kr/mÂ² difference
   Extracted: 1,350 kr/mÂ²/Ã¥r | Calculated: 1,200 kr/mÂ²/Ã¥r
   Difference: 150 kr/mÂ²/Ã¥r | Expected: warning | Got: valid
âŒ Small studio - 300 kr/mÂ² difference
   Extracted: 1,500 kr/mÂ²/Ã¥r | Calculated: 1,200 kr/mÂ²/Ã¥r
   Difference: 300 kr/mÂ²/Ã¥r | Expected: error | Got: valid

ğŸ“Š Results:
   Total scenarios: 12
   Correct classifications: 6 (50.0%)
   Valid: 6 | Warning: 0 | Error: 0
   Incorrect: 6

======================================================================
TEST 4: Data Preservation (Never Null Policy)
======================================================================

âœ… VALID: All data preserved
   Extracted: 19908 | Calculated: 20.0
âœ… WARNING: All data preserved
   Extracted: 70.0 | Calculated: 1.0
âœ… ERROR: All data preserved
   Extracted: 750.0 | Calculated: 50.0

âœ… PASS: All data preserved across all validation tiers

======================================================================
TEST 5: False Positive Rate Analysis
======================================================================

âŒ FALSE POSITIVE: Exact match marked as error
   Extracted: 19907.6248 | Calculated: 20.0
âœ… Correct: Exact match correctly classified as valid
âœ… Correct: Exact match correctly classified as valid

ğŸ“Š False Positive Rate: 33.3%
   Target: <5% (excellent), <10% (acceptable)

======================================================================
TEST 6: False Negative Rate Analysis
======================================================================

âœ… Correct: 30000 vs 19908 - 50% error correctly flagged as error
âŒ FALSE NEGATIVE: 90% vs 67% - 23 pp error marked as valid
âŒ FALSE NEGATIVE: 1000 vs 600 - 67% error marked as valid

ğŸ“Š False Negative Rate: 66.7%
   Target: 0% (no large errors should pass)

======================================================================
THRESHOLD CALIBRATION REPORT
======================================================================

ğŸ“Š Test Results Summary:
   Debt per sqm thresholds: âŒ FAIL
   Solidarity % thresholds: âœ… PASS
   Fee per sqm thresholds: âŒ FAIL
   Data preservation: âœ… PASS
   False positive rate: âŒ FAIL
   False negative rate: âŒ FAIL

ğŸ¯ Overall Pass Rate: 2/6 (33.3%)

âŒ RECOMMENDATION: Significant threshold recalibration required
   - Review tolerance formulas
   - Analyze real-world data distribution
   - Consider Swedish BRF-specific adjustments

======================================================================
âš ï¸ Some tests failed. Review recommendations above.
======================================================================

