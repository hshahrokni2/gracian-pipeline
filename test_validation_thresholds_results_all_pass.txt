
======================================================================
WEEK 2 DAY 5: VALIDATION THRESHOLD TESTING SUITE
======================================================================

Test Date: 2025-10-07 13:32:01
Testing on real-world Swedish BRF scenarios

======================================================================
TEST 1: Debt per sqm Validation Thresholds
======================================================================

âœ… SjÃ¶staden 2 - exact match
   Extracted: 19,900 kr/mÂ² | Calculated: 19,908 kr/mÂ²
   Difference: 8 kr/mÂ² | Expected: valid | Got: valid
âœ… SjÃ¶staden 2 - tiny rounding error
   Extracted: 19,908 kr/mÂ² | Calculated: 19,908 kr/mÂ²
   Difference: 0 kr/mÂ² | Expected: valid | Got: valid
âœ… SjÃ¶staden 2 - 100 kr difference
   Extracted: 20,000 kr/mÂ² | Calculated: 19,908 kr/mÂ²
   Difference: 92 kr/mÂ² | Expected: valid | Got: valid
âœ… SjÃ¶staden 2 - 1092 kr diff < tolerance (1991)
   Extracted: 21,000 kr/mÂ² | Calculated: 19,908 kr/mÂ²
   Difference: 1,092 kr/mÂ² | Expected: valid | Got: valid
âœ… SjÃ¶staden 2 - 5092 kr diff > 2x tolerance
   Extracted: 25,000 kr/mÂ² | Calculated: 19,908 kr/mÂ²
   Difference: 5,092 kr/mÂ² | Expected: error | Got: error
âœ… Small BRF - exact match
   Extracted: 10,000 kr/mÂ² | Calculated: 10,000 kr/mÂ²
   Difference: 0 kr/mÂ² | Expected: valid | Got: valid
âœ… Small BRF - 500 kr difference (5%)
   Extracted: 10,500 kr/mÂ² | Calculated: 10,000 kr/mÂ²
   Difference: 500 kr/mÂ² | Expected: valid | Got: valid
âœ… Small BRF - 1500 kr difference (15%)
   Extracted: 11,500 kr/mÂ² | Calculated: 10,000 kr/mÂ²
   Difference: 1,500 kr/mÂ² | Expected: warning | Got: warning
âœ… Small BRF - 3000 kr difference (30%)
   Extracted: 13,000 kr/mÂ² | Calculated: 10,000 kr/mÂ²
   Difference: 3,000 kr/mÂ² | Expected: error | Got: error
âœ… Large BRF - exact match
   Extracted: 50,000 kr/mÂ² | Calculated: 50,000 kr/mÂ²
   Difference: 0 kr/mÂ² | Expected: valid | Got: valid
âœ… Large BRF - 2500 kr difference (5%)
   Extracted: 52,500 kr/mÂ² | Calculated: 50,000 kr/mÂ²
   Difference: 2,500 kr/mÂ² | Expected: valid | Got: valid
âœ… Large BRF - 5000 kr diff = tolerance (inclusive)
   Extracted: 55,000 kr/mÂ² | Calculated: 50,000 kr/mÂ²
   Difference: 5,000 kr/mÂ² | Expected: valid | Got: valid
âœ… Large BRF - 10000 kr diff = 2x tolerance (inclusive)
   Extracted: 60,000 kr/mÂ² | Calculated: 50,000 kr/mÂ²
   Difference: 10,000 kr/mÂ² | Expected: warning | Got: warning

ðŸ“Š Results:
   Total scenarios: 13
   Correct classifications: 13 (100.0%)
   Valid: 9 | Warning: 2 | Error: 2
   Incorrect: 0

======================================================================
TEST 2: Solidarity Percentage Validation Thresholds
======================================================================

âœ… SjÃ¶staden 2 - exact match
   Extracted: 67.0% | Calculated: 67.0%
   Difference: 0.0 pp | Expected: valid | Got: valid
âœ… SjÃ¶staden 2 - 1 pp difference
   Extracted: 68.0% | Calculated: 67.0%
   Difference: 1.0 pp | Expected: valid | Got: valid
âœ… SjÃ¶staden 2 - 3 pp difference
   Extracted: 70.0% | Calculated: 67.0%
   Difference: 3.0 pp | Expected: warning | Got: warning
âœ… SjÃ¶staden 2 - 8 pp difference
   Extracted: 75.0% | Calculated: 67.0%
   Difference: 8.0 pp | Expected: error | Got: error
âœ… High solidarity - exact match
   Extracted: 90.0% | Calculated: 90.0%
   Difference: 0.0 pp | Expected: valid | Got: valid
âœ… High solidarity - 2 pp difference
   Extracted: 88.0% | Calculated: 90.0%
   Difference: 2.0 pp | Expected: valid | Got: valid
âœ… High solidarity - 5 pp diff > 2x tolerance (4 pp)
   Extracted: 85.0% | Calculated: 90.0%
   Difference: 5.0 pp | Expected: error | Got: error
âœ… High solidarity - 10 pp difference
   Extracted: 80.0% | Calculated: 90.0%
   Difference: 10.0 pp | Expected: error | Got: error
âœ… Low solidarity - exact match
   Extracted: 10.0% | Calculated: 10.0%
   Difference: 0.0 pp | Expected: valid | Got: valid
âœ… Low solidarity - 1 pp difference
   Extracted: 11.0% | Calculated: 10.0%
   Difference: 1.0 pp | Expected: valid | Got: valid
âœ… Low solidarity - 3 pp difference
   Extracted: 13.0% | Calculated: 10.0%
   Difference: 3.0 pp | Expected: warning | Got: warning
âœ… Low solidarity - 6 pp difference
   Extracted: 16.0% | Calculated: 10.0%
   Difference: 6.0 pp | Expected: error | Got: error

ðŸ“Š Results:
   Total scenarios: 12
   Correct classifications: 12 (100.0%)
   Valid: 6 | Warning: 2 | Error: 4
   Incorrect: 0

======================================================================
TEST 3: Fee per sqm Validation Thresholds
======================================================================

âœ… Standard apartment - exact monthly*12
   Extracted: 600 kr/mÂ²/Ã¥r | Calculated: 600 kr/mÂ²/Ã¥r
   Difference: 0 kr/mÂ²/Ã¥r | Expected: valid | Got: valid
âœ… Standard apartment - 10 kr/mÂ² difference
   Extracted: 610 kr/mÂ²/Ã¥r | Calculated: 600 kr/mÂ²/Ã¥r
   Difference: 10 kr/mÂ²/Ã¥r | Expected: valid | Got: valid
âœ… Standard apartment - 50 kr diff < tolerance (100)
   Extracted: 650 kr/mÂ²/Ã¥r | Calculated: 600 kr/mÂ²/Ã¥r
   Difference: 50 kr/mÂ²/Ã¥r | Expected: valid | Got: valid
âœ… Standard apartment - 150 kr diff < 2x tolerance (200)
   Extracted: 750 kr/mÂ²/Ã¥r | Calculated: 600 kr/mÂ²/Ã¥r
   Difference: 150 kr/mÂ²/Ã¥r | Expected: warning | Got: warning
âœ… High-end apartment - exact match
   Extracted: 1,200 kr/mÂ²/Ã¥r | Calculated: 1,200 kr/mÂ²/Ã¥r
   Difference: 0 kr/mÂ²/Ã¥r | Expected: valid | Got: valid
âœ… High-end apartment - 50 kr/mÂ² difference
   Extracted: 1,250 kr/mÂ²/Ã¥r | Calculated: 1,200 kr/mÂ²/Ã¥r
   Difference: 50 kr/mÂ²/Ã¥r | Expected: valid | Got: valid
âœ… High-end apartment - 150 kr/mÂ² difference
   Extracted: 1,350 kr/mÂ²/Ã¥r | Calculated: 1,200 kr/mÂ²/Ã¥r
   Difference: 150 kr/mÂ²/Ã¥r | Expected: warning | Got: warning
âœ… High-end apartment - 300 kr diff > 2x tolerance
   Extracted: 1,500 kr/mÂ²/Ã¥r | Calculated: 1,200 kr/mÂ²/Ã¥r
   Difference: 300 kr/mÂ²/Ã¥r | Expected: error | Got: error
âœ… Small studio - exact match
   Extracted: 1,200 kr/mÂ²/Ã¥r | Calculated: 1,200 kr/mÂ²/Ã¥r
   Difference: 0 kr/mÂ²/Ã¥r | Expected: valid | Got: valid
âœ… Small studio - 50 kr/mÂ² difference
   Extracted: 1,250 kr/mÂ²/Ã¥r | Calculated: 1,200 kr/mÂ²/Ã¥r
   Difference: 50 kr/mÂ²/Ã¥r | Expected: valid | Got: valid
âœ… Small studio - 150 kr/mÂ² difference
   Extracted: 1,350 kr/mÂ²/Ã¥r | Calculated: 1,200 kr/mÂ²/Ã¥r
   Difference: 150 kr/mÂ²/Ã¥r | Expected: warning | Got: warning
âœ… Small studio - 300 kr diff > 2x tolerance
   Extracted: 1,500 kr/mÂ²/Ã¥r | Calculated: 1,200 kr/mÂ²/Ã¥r
   Difference: 300 kr/mÂ²/Ã¥r | Expected: error | Got: error

ðŸ“Š Results:
   Total scenarios: 12
   Correct classifications: 12 (100.0%)
   Valid: 7 | Warning: 3 | Error: 2
   Incorrect: 0

======================================================================
TEST 4: Data Preservation (Never Null Policy)
======================================================================

âœ… VALID: All data preserved
   Extracted: 19908 | Calculated: 19908.0
âœ… WARNING: All data preserved
   Extracted: 70.0 | Calculated: 670.0
âœ… ERROR: All data preserved
   Extracted: 750.0 | Calculated: 50000.0

âœ… PASS: All data preserved across all validation tiers

======================================================================
TEST 5: False Positive Rate Analysis
======================================================================

âœ… Correct: debt exact match correctly classified as valid
âœ… Correct: solidarity exact match correctly classified as valid
âœ… Correct: fee exact match correctly classified as valid

ðŸ“Š False Positive Rate: 0.0%
   Target: <5% (excellent), <10% (acceptable)

======================================================================
TEST 6: False Negative Rate Analysis
======================================================================

âœ… Correct: debt 30000 vs 19908 - 50% error correctly flagged as error
âœ… Correct: solidarity 90% vs 67% - 23 pp error correctly flagged as error
âœ… Correct: fee 1000 vs 600 - 67% error correctly flagged as error

ðŸ“Š False Negative Rate: 0.0%
   Target: 0% (no large errors should pass)

======================================================================
THRESHOLD CALIBRATION REPORT
======================================================================

ðŸ“Š Test Results Summary:
   Debt per sqm thresholds: âœ… PASS
   Solidarity % thresholds: âœ… PASS
   Fee per sqm thresholds: âœ… PASS
   Data preservation: âœ… PASS
   False positive rate: âœ… PASS
   False negative rate: âœ… PASS

ðŸŽ¯ Overall Pass Rate: 6/6 (100.0%)

âœ… RECOMMENDATION: Current thresholds are well-calibrated
   - 90%+ classification accuracy across all metrics
   - <10% false positive rate
   - 0% false negative rate
   - 100% data preservation

======================================================================
ðŸŽ‰ ALL TESTS PASSED! Week 2 Day 5 Validation Thresholds COMPLETE!
======================================================================

